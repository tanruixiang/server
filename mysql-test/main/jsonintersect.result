SET @json1 = '1';
SET @json2 = '1';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
1
SET @json1 = '1';
SET @json2 = '2';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
NULL
SET @json1 = '3';
SET @json2 = '[1,2,3,4,5]';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
3
SET @json1 = '6';
SET @json2 = '[1,2,3,4,5]';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
NULL
SET @json1 = '"a"';
SET @json2 = '"a"';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
"a"
SET @json1 = '"a"';
SET @json2 = '"b"';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
NULL
SET @json1 = '"z"';
SET @json2 = '["a","b","cd","ef","f"]';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
NULL
SET @json1 = '"z"';
SET @json2 = '{"key1":"value1"}';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
NULL
SET @json1 = '3';
SET @json2 = '{"key1":"value1"}';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
NULL
SET @json1 = '{"key1":"value1","key2":"value2"}';
SET @json2 = '{"key2":"value2","key1":"value1"}';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
{"key1": "value1", "key2": "value2"}
SET @json1 = '{"key1":"value1"}';
SET @json2 = '{"key2":"value2"}';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
NULL
SET @json1 = '{"key1":"value1"}';
SET @json2 = '[{"key1":"value1"},{"key2":"value2"}]';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
{"key1": "value1"}
SET @json1 = '{"key1":"value1"}';
SET @json2 = '1';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
NULL
SET @json1 = '{"key1":{"kkey1":"vvalue1"}}';
SET @json2 = '{"key1":{"kkey1":"vvalue1"}}';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
{"key1": {"kkey1": "vvalue1"}}
SET @json1= '{"key1":{"key1":{"key1":"value1"}}}';
SET @json2= '{"key1":{"key1":{"key1":"value1"}}}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
{"key1": {"key1": {"key1": "value1"}}}
SET @json1 = '{"key1":{"kkey1":"vvalue1","kkey2":"vvalue2"}}';
SET @json2 = '{"key1":{"kkey1":"vvalue1"}}';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
NULL
SET @json1 = '{"key1":[{"kkey1":"vvalue1"},{"kkey2":"vvalue2"}]}';
SET @json2 = '{"key1":{"kkey1":"vvalue1"}}';
SELECT JSON_INTERSECT(@json1,@json2);
JSON_INTERSECT(@json1,@json2)
NULL
SET @json1= '{"key1":"val1", "key2":"val2", "key3":{"key7":"val7"}}';
SET @json2= '{"key4":"val4", "key2":"val2", "key5":"val5", "key3":"val3", "key6":"val6"}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
{"key2": "val2"}
SET @json1= '{"key1":"val1", "key2":"val2", "key3":"val3"}';
SET @json2= '{"key3":"val3", "key2":"val2", "key4":"val4", "key3":"val3", "key5":"val5"}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
NULL
Warnings:
Warning	4054	Duplicate keys in the same object
SELECT JSON_INTERSECT(@json2, @json1);
JSON_INTERSECT(@json2, @json1)
NULL
Warnings:
Warning	4054	Duplicate keys in the same object
SET @json1= '[1,2,3]';
SET @json2= '[1,2,3]';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
[1, 2, 3]
SET @json1= '[1,2,3]';
SET @json2= '[1,2,4]';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
[1, 2]
SET @json1= '{"key1":[1,2,3]}';
SET @json2= '{"key1":[1,2,3]}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
{"key1": [1, 2, 3]}
SET @json1= '{"key1":[1,2,3]}';
SET @json2= '{"key1":[1,2,4]}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
NULL
SET @json1 = '[{"kkey1":"vvalue1"},{"kkey2":"vvalue2"}]';
SET @json2 = '[{"kkey1":"vvalue1"},{"kkey2":"vvalue2"}]';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
[{"kkey1": "vvalue1"}, {"kkey2": "vvalue2"}]
SET @json1 = '[{"kkey1":"vvalue1"},{"kkey3":"vvalue2"}]';
SET @json2 = '[{"kkey1":"vvalue1"},{"kkey2":"vvalue2"}]';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
[{"kkey1": "vvalue1"}]
SET @json1 = '[{"kkey1":"vvalue1"},{"kkey2":"vvalue2"}]';
SET @json2 = '{"kkey2":"vvalue2"}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
{"kkey2": "vvalue2"}
SET @json1 = '{"key1":{"kkey1":{"kkkey1":{"kkkkey1":"value1"}}}}';
SET @json2 = '{"key1":{"kkey1":{"kkkey1":{"kkkkey1":"value1"}}}}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
{"key1": {"kkey1": {"kkkey1": {"kkkkey1": "value1"}}}}
SET @json1 = '{"key1":{"kkey1":{"kkkey1":{"kkkkey1":"value1"}}}}';
SET @json2 = '{"key1":{"kkey1":{"kkkey2":{"kkkkey1":"value1"}}}}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
NULL
SET @json1 = '{"key1":{"kkey1":{"kkkey1":{"kkkkey1":"value1"}}}}';
SET @json2 = '{"key1":{"kkey1":{"kkkey1":{"kkkkey1":"value1_not"}}}}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
NULL
SET @json1= '[6,6,6]';
SET @json2= '[[1,2,3],[4,5,6],[1,3,2]]';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
NULL
SET @json1= '[[1,2,3],[4,5,6],[1,3,2]]';
SET @json2= '[[1,2,3],[4,5,6],[1,3,2]]';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
[[1, 2, 3], [4, 5, 6], [1, 3, 2]]
SET @json1 = '[{"k1":"v1","k2":"v2"},{"k2":"v2"}]';
SET @json2 = '[{"kkey1":"vvalue1"},{"k2":"v2","k1":"v1"}]';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
[{"k2": "v2", "k1": "v1"}]
SET @json1 = '[{"k1":"v1","k2":"v2"},{"k2":"v2","k1":"v1"}]';
SET @json2 = '[{"k1":"v1","k2":"v2"},{"k1":"v1","k2":"v2"}]';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
[{"k1": "v1", "k2": "v2"}, {"k1": "v1", "k2": "v2"}]
SET @json1 = '[{"k1":"v1","k2":"v2"},{"k2":"v2","k1":"v1"}]';
SET @json2 = '[{"k1":"v1","k2":"v2"},{"k1":"v1","k2":"v2"},{"k1":"v1","k2":"v2"}]';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
[{"k1": "v1", "k2": "v2"}, {"k1": "v1", "k2": "v2"}]
SET @json1 = '[{"k1":"v1","k2":[1,2,3]},{"k2":"v2","k1":"v1"}]';
SET @json2 = '[{"k1":"v1","k2":"v2"},{"k1":"v1","k2":[1,2,3]},{"k1":"v1","k2":"v2"}]';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
[{"k1": "v1", "k2": "v2"}, {"k1": "v1", "k2": [1, 2, 3]}]
SET @json1 = '[{"k1":"v1","k2":[1,2,3]},{"k2":"v2","k1":"v1"}]';
SET @json2 = '[{"k1":"v1","k2":"v2"},{"k1":"v1","k2":[3,2,1]},{"k1":"v1","k2":"v2"}]';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
[{"k1": "v1", "k2": "v2"}]
SET @json1 = '{"k1":"v1","k2":"v2","k3":{"kk1":"v1","kk1":"v2"}}';
SET @json2 = '{"k1":"v1","k2":"v2","k3":{"kk1":"v1","kk1":"v2"}}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
NULL
Warnings:
Warning	4054	Duplicate keys in the same object
SET @json1 = '{"k1":"v1","k2":"v2","k3":{"kk1":"v1","kk1":"v2"}}';
SET @json2 = '{"k1":"v1","k2":"v2","k3":{"k1":"v1","k2":"v2"}}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
NULL
Warnings:
Warning	4054	Duplicate keys in the same object
SET @json1 = '{"k2":{"1":"2"},"k1":{"k1":"v1","k2":"v2"}}';
SET @json2 = '{"k1":{"k1":"v1","k2":"v2"},"k2":{"1":"2"}}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
{"k2": {"1": "2"}, "k1": {"k1": "v1", "k2": "v2"}}
SET @json1 = '{"k1":1,"k2":{"kk1":"vv1"},"k3":3}';
SET @json2 = '{"k3":3,"k2":{"kk1":"vv1"},"k4":4}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
{"k2": {"kk1": "vv1"}, "k3": 3}
SET @json1 = '{"k1":1,"k2":[1,2,3],"k3":3}';
SET @json2 = '{"k3":3,"k2":[1,2,3],"k4":4}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
{"k2": [1, 2, 3], "k3": 3}
SET @json1 = '{"k1":1,"k2":{"kk2":"vv2","kk1":"vv1"},"k3":3}';
SET @json2 = '{"k3":3,"k2":{"kk1":"vv1","kk2":"vv2"},"k4":4}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
{"k2": {"kk2": "vv2", "kk1": "vv1"}, "k3": 3}
SET @json1 = '{"k1":1,"k2":{"kk2":"vv2","kk1":{"k1":"v1"}},"k3":3}';
SET @json2 = '{"k3":3,"k2":{"kk1":"vv1","kk2":{"k1":"v1"}},"k4":4}';
SELECT JSON_INTERSECT(@json1, @json2);
JSON_INTERSECT(@json1, @json2)
{"k3": 3}
